import{d as h,r as x,g as b,c as y,e as t,w as o,u as g,E,a3 as C,f as w,A as B,o as k,a0 as T,i as I,j as r,a2 as N,a7 as R,z as u}from"./vendor-9-gncoeY.js";import{g as v}from"./shared/role/user-s2pEX14G.js";import"./common-CYpp1PH_.js";const V=h({__name:"index",setup(A){let l=x([]);w();const p=B();b(()=>{v().then(e=>{l.value=e.data}).catch(e=>{})});const m=()=>{R.prompt("请输入角色名称","添加角色",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:e,action:a})=>{e&&(l.value.push({roleId:l.value.length+1,roleName:e,authority:[]}),u({type:"success",message:`${e}添加成功`}))}).catch(e=>{u({type:"info",message:"点击了取消按钮"})})},c=e=>{p.push({path:"auth",query:{id:e.roleId,auth:e.authority}})};return(e,a)=>{const s=I,i=T,d=E,n=N,_=C;return k(),y("div",null,[t(d,{"label-width":"100px"},{default:o(()=>[t(i,null,{default:o(()=>[t(s,{type:"primary",onClick:m},{default:o(()=>a[0]||(a[0]=[r("新增角色")])),_:1})]),_:1})]),_:1}),t(_,{data:g(l),border:"",style:{width:"100%"}},{default:o(()=>[t(n,{prop:"roleId",label:"角色id",width:"180px"}),t(n,{prop:"roleName",label:"角色名称",width:"180px"}),t(n,{label:"操作"},{default:o(f=>[t(s,{type:"primary",size:"small",onClick:M=>c(f.row)},{default:o(()=>a[1]||(a[1]=[r("修改权限")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}});export{V as default};
