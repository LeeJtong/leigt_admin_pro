import{d as h,r as x,g as b,c as y,e as t,w as o,u as g,E,a0 as C,f as w,v as B,o as k,Y as T,i as v,j as r,$ as I,a4 as N,t as u}from"./vendor-BVr2knxT.js";import{g as R}from"./shared/role/user-BiukHi76.js";import"./common-CZHu2JVL.js";const V=h({__name:"index",setup(M){let l=x([]);w();const p=B();b(()=>{R().then(e=>{l.value=e.data}).catch(e=>{})});const m=()=>{N.prompt("请输入角色名称","添加角色",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(({value:e,action:a})=>{e&&(l.value.push({roleId:l.value.length+1,roleName:e,authority:[]}),u({type:"success",message:`${e}添加成功`}))}).catch(e=>{u({type:"info",message:"点击了取消按钮"})})},c=e=>{p.push({path:"auth",query:{id:e.roleId,auth:e.authority}})};return(e,a)=>{const s=v,i=T,d=E,n=I,_=C;return k(),y("div",null,[t(d,{"label-width":"100px"},{default:o(()=>[t(i,null,{default:o(()=>[t(s,{type:"primary",onClick:m},{default:o(()=>a[0]||(a[0]=[r("新增角色")])),_:1})]),_:1})]),_:1}),t(_,{data:g(l),border:"",style:{width:"100%"}},{default:o(()=>[t(n,{prop:"roleId",label:"角色id",width:"180px"}),t(n,{prop:"roleName",label:"角色名称",width:"180px"}),t(n,{label:"操作"},{default:o(f=>[t(s,{type:"primary",size:"small",onClick:$=>c(f.row)},{default:o(()=>a[1]||(a[1]=[r("修改权限")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])])}}});export{V as default};
