const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./home-uDOPkpUh.js","./vendor-zCpE3Nmk.js","./vendor-CZut4ZF1.css","./home-xg3cCQ7H.css","./HomePage-cTt0iZS3.js","./user-CipWn46b.js","./shared/role/user-CWaJ96Dk.js","./user-QqIuRxAG.css","./role-Cl8nqflL.js","./auth-DvFw1vY4.js","./auth-B5xTq0zo.css","./login-DYEHrwoA.js","./login-BNAHkuPZ.css","./about-BeLWF80s.js","./about-W4MnI3Lq.css"])))=>i.map(i=>d[i]);
import{p as o,q as P,s as S,t as d,v as R,x as T,N as f,y as L,z as u}from"./vendor-zCpE3Nmk.js";const b={path:"/",name:"Layout",redirect:"/",component:()=>o(()=>import("./home-uDOPkpUh.js").then(e=>e.i),__vite__mapDeps([0,1,2,3]),import.meta.url),meta:{role:["common","admin"]},children:[{path:"/",name:"HomePage",component:()=>o(()=>import("./HomePage-cTt0iZS3.js"),__vite__mapDeps([4,1,2]),import.meta.url),meta:{isShow:!0,title:"默认首页",parentRouter:"Layout"}},{path:"/project",name:"ProjectPage",component:()=>o(()=>import("./home-uDOPkpUh.js").then(e=>e.a),__vite__mapDeps([0,1,2,3]),import.meta.url),meta:{isShow:!0,title:"项目介绍",parentRouter:"Layout"}},{path:"/p",name:"ParentPage",meta:{isShow:!0,title:"父菜单",parentRouter:"Layout"},children:[{path:"/p/child1",name:"ChildPage1",meta:{isShow:!0,title:"子菜单1",parentRouter:"ParentPage"}},{path:"/p/child2",name:"ChildPage2",meta:{isShow:!0,title:"子菜单2",parentRouter:"ParentPage"}},{path:"/p/child3",name:"ChildPage3",meta:{isShow:!0,title:"子菜单3",parentRouter:"ParentPage"}}]},{path:"/user",name:"UserPage",component:()=>o(()=>import("./user-CipWn46b.js"),__vite__mapDeps([5,1,2,6,7]),import.meta.url),meta:{title:"用户模块",isShow:!0,parentRouter:"Layout"}},{path:"/role",name:"RolePage",component:()=>o(()=>import("./role-Cl8nqflL.js"),__vite__mapDeps([8,1,2,6]),import.meta.url),meta:{title:"角色模块",isShow:!0,parentRouter:"Layout"}},{path:"/auth",name:"AuthPage",component:()=>o(()=>import("./auth-DvFw1vY4.js").then(e=>e.i),__vite__mapDeps([9,1,2,10]),import.meta.url),meta:{title:"权限模块",isShow:!0,parentRouter:"Layout"}},{path:"/button",name:"ButtonPage",component:()=>o(()=>import("./auth-DvFw1vY4.js").then(e=>e.a),__vite__mapDeps([9,1,2,10]),import.meta.url),meta:{title:"按钮封装",isShow:!0,parentRouter:"Layout"}},{path:"/sourceMap",name:"SourceMapPage",component:()=>o(()=>import("./auth-DvFw1vY4.js").then(e=>e.b),__vite__mapDeps([9,1,2,10]),import.meta.url),meta:{title:"错误源码映射",isShow:!0,parentRouter:"Layout"}}]},E=Object.freeze(Object.defineProperty({__proto__:null,default:b},Symbol.toStringTag,{value:"Module"})),k={path:"/login",name:"login",component:()=>o(()=>import("./login-DYEHrwoA.js"),__vite__mapDeps([11,1,2,12]),import.meta.url),meta:{},children:[]},y=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"}));function I(e,t,r){const a=[];for(;;){a.push({name:e,currentNameZH:r});const s=t.find(c=>c.name===e),m=t.find(c=>{var h;return c.name===((h=s==null?void 0:s.meta)==null?void 0:h.parentRouter)});if(m.meta.title){e=m.name,r=m.meta.title;continue}else break}return a.reverse()}const l=P();l.use(S);const v=d("SettingStore",{state:()=>({title:[]}),actions:{setTitle(e){this.title=e}}});function O(){return v(l)}const w={path:"/about",name:"about",component:()=>o(()=>import("./about-BeLWF80s.js"),__vite__mapDeps([13,1,2,14]),import.meta.url),meta:{},children:[]},_=Object.assign({"./modules/home.ts":E,"./modules/login.ts":y}),p=[];Object.keys(_).forEach(e=>{const t=_[e].default;p.push(t)});p.push(w);const n=R({history:T(),routes:p}),A=["/login","/about"],j=O(),D=e=>{var a;const t=(a=n.getRoutes().find(s=>s.name===e))==null?void 0:a.meta.title,r=I(e,n.getRoutes(),t);j.setTitle(r)};n.beforeEach(async(e,t,r)=>{f.start(),!!sessionStorage.getItem("userInfo")||A.includes(e.path)?r():r("/login"),D(e.name)});n.afterEach(e=>{f.done()});const g=e=>{let t="";switch(e){case 400:t="请求错误(400)";break;case 403:t="拒绝访问(403)";break;case 401:t="未授权(401)";break;case 500:t="服务器错误(500)";break;case 503:t="服务不可用(503)";break;default:t=`连接出错(${e})!`}return t},i=L.create({baseURL:void 0,timeout:15e3});i.interceptors.request.use(e=>e,e=>Promise.reject(e));i.interceptors.response.use(e=>{if(e.status===200){const t=e.data;return t.code!==0?(u({message:t.message,type:"error"}),Promise.reject(t)):t}return u({message:g(e.status),type:"error"}),e},e=>{const{response:t}=e;if(t)return u({message:g(t.status),type:"error"}),Promise.reject(t.data);u({message:"网络连接异常,请稍后再试!",type:"error"})});function U(e){return i({url:"/login",method:"POST",data:e})}function z(e){return i({url:"/getUserList",method:"get",data:e})}function V(e){return i({url:"/getUserList",method:"get",data:e})}const M=d("userInfo",{state:()=>({username:"GingTung",accessToken:"",roles:["common"]}),getters:{},actions:{storeUserLogin(e){return console.log("调用"),U(e).then(t=>(console.log(t,"store的"),this.username=t.data.username,this.roles=t.data.roles,this.accessToken=t.data.accessToken,t))},logout(){sessionStorage.removeItem("userInfo"),this.accessToken="",n.push("/login")},storeRefreshUserInfo(){this.username==="GingTung"&&this.accessToken!==""&&V({accessToken:this.accessToken}).then(e=>{this.username=e.data.username,this.roles=e.data.roles,this.accessToken=e.data.accessToken}).catch(()=>{this.accessToken=""})},test(e){console.log("测试",e)}},persist:{key:"userInfo",storage:sessionStorage,paths:["accessToken"]}});function C(){return M(l)}export{O as a,C as b,z as g,l as p,n as r,i as s,M as u};
